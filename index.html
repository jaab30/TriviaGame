<!doctype <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Trivia Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Added link to the jQuery Library -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <!-- reset css -->
        <!-- <link rel="stylesheet" type="text/css" href="assets/css/reset.css" /> -->
        <!-- Added a link to Bootstrap-->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <!-- link to font -->
       
        <!-- link to css -->
        <link rel="stylesheet" type="text/css" media="screen" href="assets/css/style.css" />


</head>

<body>
    <header class="container-fluid">
        <div class="row">
            <div class="col-sm-12 align-items-center">
                    <h1> Seinfeld Trivial Game</h1>
                    <img src="assets/images/logo_300.png" alt="Seinfeld Logo" class="logo">
            </div>
        </div>
    </header>
    <main class="container-fluid">
        <div class="row">
                    <div id="timer" class="col-sm-12"></div>
        </div>
        <div class="row">
                <div class="col-sm-3 mr-2">
                </div>
                <div id="prompt" class="col-sm-8" value="0">
                    <ol id="qElements">
                        <h2 id="question"></h2>
                        
                        <button id="a1" class="button" value=1></button><br>
                        <button id="a2" class="button" value=2></button><br>
                        <button id="a3" class="button" value=3></button><br>
                        <button id="a4" class="button" value=4></button>

                    </ol>
                    
                </div>
                <div class="col-sm-2 test">
                    <!-- <button id="start"> Start Bame</button> -->
                </div>
               
        </div>
        <div class="row">
            <div class="col-sm-12">
                    
            </div>
        </div>
        

        </div>
    </main>
   
    <script>
    $(document).ready(function() {

        //set up all vars and objects
        var questions = [ q1={
                            "question":"What is Kramer's first name ?",
                            "answer1":"Joe",
                            "answer2":"Frank",
                            "answer3":"Cosmo",
                            "answer4":"John",
                            "correct": "3",
                            "correctText":"Cosmo",
                            "image":"assets/images/kramer_hit.gif"
                            },
                          q2={
                            "question":"Where do Jerry's parents live ?",
                            "answer1":"Queens",
                            "answer2":"Florida",
                            "answer3":"New Jersey",
                            "answer4":"Brooklyn",
                            "correct": "2",
                            "correctText":"Florida",
                            "image":"assets/images/elaine_dance.gif"
                            },
                          q3={
                            "question":"What causes George's fianc√© Susan to die ?",
                            "answer1":"Suicide",
                            "answer2":"Cheap Wedding Invitations",
                            "answer3":"Allergic reaction",
                            "answer4":"Nobody knows",
                            "correct": "2",
                            "correctText":"Cheap Wedding Invitations",
                            "image":"assets/images/jerry_clap.gif"
                            } , 
                          q4={
                            "question":"What does Kramer have installed in his shower ?",
                            "answer1":"A Television",
                            "answer2":"A Radio",
                            "answer3":"A Garbage Disposal",
                            "answer4":"A Toilet",
                            "correct": "3",
                            "correctText":"A Garbage Disposal",
                            "image":"assets/images/kramer_newman.gif"
                            }, 
                          q5={
                            "question":"What was 'Little Jerry' ?",
                            "answer1":"Kramer's pet rooster",
                            "answer2":"Kramer's pet chicken",
                            "answer3":"A picture of Jerry as a little kid",
                            "answer4":"None of the above",
                            "correct": "1",
                            "correctText":"Kramer's Pet Rooster",
                            "image":"assets/images/little_jerry.gif"
                            },
                          q6={
                            "question":"What in almost every episode is found on a shelf in Jerry's apartment ?",
                            "answer1":"A pile of books *gasp* books",
                            "answer2":"A superman figurine",
                            "answer3":"A can of Coke",
                            "answer4":"A bottle of Snapple",
                            "correct": "2",
                            "correctText":"A Superman Figurine",
                            "image":"assets/images/marathon.gif"
                            },
                          q7={
                            "question":"What does Elaine buy allot of for Mr Pitt but doesn't get the right kind of it ?",
                            "answer1":"Coffee",
                            "answer2":"Hats",
                            "answer3":"Juice",
                            "answer4":"Socks",
                            "correct": "4",
                            "correctText":"Socks",
                            "image":"assets/images/jerry_elaine.gif"
                            },
                          q8={
                            "question":"In The Bubble boy what game do George and the Bubble boy fight about ?",
                            "answer1":"Monopoly",
                            "answer2":"Uno",
                            "answer3":"Trivial Pursuit",
                            "answer4":"Go Fish",
                            "correct": "3",
                            "correctText":"Trivial Pursuit",
                            "image":"assets/images/seinfeld_shot.gif"
                            },
                          q9={
                            "question":"What kind of pasta does Kramer make a Jerry figurine from ? ?",
                            "answer1":"Fusilli",
                            "answer2":"Penne",
                            "answer3":"Tortellini",
                            "answer4":"Angel Hair",
                            "correct": "1",
                            "correctText":"Fusilli 'Jerry'",
                            "image":"assets/images/george.gif"
                            },
                          q10={
                            "question":"What does Kramer do for a living ?",
                            "answer1":"mailman",
                            "answer2":"banker",
                            "answer3":"no one really knows",
                            "answer4":"comedian",
                            "correct": "3",
                            "correctText":"No One Really Knows",
                            "image":"assets/images/all.gif"
                            }
                        ]


        var correctAnswers = 0,
            incorrectAnswers = 0,
            time = 10,
            timeBetween = 3,
            interval,
            intervalBetween,
            i = 0;

        // j = $("#qElements").detach() 
        // $("#prompt").html("<button id='start'>Start Game</button>");
        
        // $("#start").on("click", function(){
        //     setQuestions()
            // questionTime()
            // alert(setNextQuestions())
        // })

// display question by grabbing ID from HTML
function setQuestions (){
        // $(".test").empty();
        // $("#prompt").append(j);    
        $("#question").text(questions[i].question);
        $("#a1").text(questions[i].answer1);
        $("#a2").text(questions[i].answer2);
        $("#a3").text(questions[i].answer3);
        $("#a4").text(questions[i].answer4);
        }
function setNextQuestions(){
        $("#prompt").empty();
        $("#prompt").prepend(j);
        $("#question").text(questions[i].question);
        $("#a1").text(questions[i].answer1);
        $("#a2").text(questions[i].answer2);
        $("#a3").text(questions[i].answer3);
        $("#a4").text(questions[i].answer4);
        }
//set up the timer
        function questionTime(){
            interval = setInterval(decrement, 1000);
            }
            function decrement() {
            time--;
            $("#timer").text("Time Remaining: " + time);

            if (time === 0) {
                stop();
                j = $("#qElements").detach()
                $("#prompt").html("<h2> Time's Out..!</h2><p>The correct answer is: " + questions[i].correctText + "</p><img src= " + questions[i].image + " />")
                $("#timer").text("Time Remaining: ");
                incorrectAnswers++
                intervalTime();
            }
            
        }
        function stop() {
            clearInterval(interval);
        }

//set up the timer between questions
function intervalTime(){
            intervalBetween = setInterval(decrementBetween, 1000);
            }
            function decrementBetween() {
            timeBetween--;
            
            if (timeBetween === 0) {
                stopBetween();
                i++
                time = 10;
                timeBetween = 3;
                setNextQuestions();
                questionTime()
                console.log(i)
            }
            
        }
        function stopBetween() {
            clearInterval(intervalBetween);
        }

        function finalQuestion() {
            if ($(this).attr("value") === questions[i].correct){
                correctAnswers++}
            $("#prompt").html("<h2> Game Over..!</h2><h2>Correct Answers:" + correctAnswers +"</h2><h2>Incorrect Answers:" + incorrectAnswers +"</h2><img src= " + questions[i].image + " style='width:450px;height:300px;'/>");
                stopBetween()
                stop()
        }

// on click, if user pick is equal than correct answer, write meassage and show pix
        $(".button").on("click", function(){
            j = $("#qElements").detach()
            if ($(this).attr("value") === questions[i].correct){
                $("#prompt").html("<p> Correct..!</p><img src= " + questions[i].image + " style='width:450px;height:300px;'/>")
                stop();
                correctAnswers++
                $("#timer").text("Time Remaining: ");
                intervalTime()
                if (i === 9){
                    finalQuestion()
                } 
            }
 
            else {
                $("#prompt").html("<h2> No Soup for you..!</h2><p>The correct answer is: " + questions[i].correctText + "</p><img src= " + questions[i].image + " style='width:450px;height:300px;'/>")
                stop();
                incorrectAnswers++
                $("#timer").text("Time Remaining: ");
                intervalTime();
                if (i === 9){
                    finalQuestion()
                } 
            }
           
            });

// on click, if user pick is not equal than correct answer, write meassage, write correct answer and show pix

// if timer rusn out, write meassage, write correct answer and show pix

//at the end, show results , show button to restart.

//when restart at th end, go back to question 1 without refresh.



// startGame()
setQuestions ()
questionTime()
// intervalTime()

})
   
    </script>

    <!-- bootstrap code -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>
</html>